from flask import Flask, render_template, session, request, redirect, url_for

app = Flask(__name__, static_url_path='', static_folder='')
app.secret_key = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"

# demo data
swd_labels = ["2022-01-20 23:15",
"2022-01-20 23:30",
"2022-01-20 23:45",
"2022-01-21 00:00",
"2022-01-21 00:15",
"2022-01-21 00:30",
"2022-01-21 00:45",
"2022-01-21 01:00",
"2022-01-21 01:15",
"2022-01-21 01:30",
"2022-01-21 01:45",
"2022-01-21 02:00",
"2022-01-21 02:15",
"2022-01-21 02:30",
"2022-01-21 02:45",
"2022-01-21 03:00",
"2022-01-21 03:15",
"2022-01-21 03:30",
"2022-01-21 03:45",
"2022-01-21 04:00",
"2022-01-21 04:15",
"2022-01-21 04:30",
"2022-01-21 04:45",
"2022-01-21 05:00",
"2022-01-21 05:15",
"2022-01-21 05:30",
"2022-01-21 05:45",
"2022-01-21 06:00",
"2022-01-21 06:15",
"2022-01-21 06:30",
"2022-01-21 06:45",
"2022-01-21 07:00",
"2022-01-21 07:15",
"2022-01-21 07:30",
"2022-01-21 07:45",
"2022-01-21 08:00",
"2022-01-21 08:15",
"2022-01-21 08:30",
"2022-01-21 08:45",
"2022-01-21 09:00",
"2022-01-21 09:15",
"2022-01-21 09:30",
"2022-01-21 09:45",
"2022-01-21 10:00",
"2022-01-21 10:15",
"2022-01-21 10:30",
"2022-01-21 10:45",
"2022-01-21 11:00",
"2022-01-21 11:15",
"2022-01-21 11:30",
"2022-01-21 11:45",
"2022-01-21 12:00",
"2022-01-21 12:15",
"2022-01-21 12:30",
"2022-01-21 12:45",
"2022-01-21 13:00",
"2022-01-21 13:15",
"2022-01-21 13:30",
"2022-01-21 13:45",
"2022-01-21 14:00",
"2022-01-21 14:15",
"2022-01-21 14:30",
"2022-01-21 14:45",
"2022-01-21 15:00",
"2022-01-21 15:15",
"2022-01-21 15:30",
"2022-01-21 15:45",
"2022-01-21 16:00",
"2022-01-21 16:15",
"2022-01-21 16:30",
"2022-01-21 16:45",
"2022-01-21 17:00",
"2022-01-21 17:15",
"2022-01-21 17:30",
"2022-01-21 17:45",
"2022-01-21 18:00",
"2022-01-21 18:15",
"2022-01-21 18:30",
"2022-01-21 18:45",
"2022-01-21 19:00",
"2022-01-21 19:15",
"2022-01-21 19:30",
"2022-01-21 19:45",
"2022-01-21 20:00",
"2022-01-21 20:15",
"2022-01-21 20:30",
"2022-01-21 20:45",
"2022-01-21 21:00",
"2022-01-21 21:15",
"2022-01-21 21:30",
"2022-01-21 21:45",
"2022-01-21 22:00",
"2022-01-21 22:15",
"2022-01-21 22:30",
"2022-01-21 22:45",
"2022-01-21 23:00",
"2022-01-21 23:15",
"2022-01-21 23:30",
"2022-01-21 23:45",
"2022-01-22 00:00",
"2022-01-22 00:15",
"2022-01-22 00:30",
"2022-01-22 00:45",
"2022-01-22 01:00",
"2022-01-22 01:15",
"2022-01-22 01:30",
"2022-01-22 01:45",
"2022-01-22 02:00",
"2022-01-22 02:15",
"2022-01-22 02:30",
"2022-01-22 02:45",
"2022-01-22 03:00",
"2022-01-22 03:15",
"2022-01-22 03:30",
"2022-01-22 03:45",
"2022-01-22 04:00",
"2022-01-22 04:15",
"2022-01-22 04:30",
"2022-01-22 04:45",
"2022-01-22 05:00",
"2022-01-22 05:15",
"2022-01-22 05:30",
"2022-01-22 05:45",
"2022-01-22 06:00",
"2022-01-22 06:15",
"2022-01-22 06:30",
"2022-01-22 06:45",
"2022-01-22 07:00",
"2022-01-22 07:15",
"2022-01-22 07:30",
"2022-01-22 07:45",
"2022-01-22 08:00",
"2022-01-22 08:15",
"2022-01-22 08:30",
"2022-01-22 08:45",
"2022-01-22 09:00",
"2022-01-22 09:15",
"2022-01-22 09:30",
"2022-01-22 09:45",
"2022-01-22 10:00",
"2022-01-22 10:15",
"2022-01-22 10:30",
"2022-01-22 10:45",
"2022-01-22 11:00",
"2022-01-22 11:15",
"2022-01-22 11:30",
"2022-01-22 11:45",
"2022-01-22 12:00",
"2022-01-22 12:15",
"2022-01-22 12:30",
"2022-01-22 12:45",
"2022-01-22 13:00",
"2022-01-22 13:15",
"2022-01-22 13:30",
"2022-01-22 13:45",
"2022-01-22 14:00",
"2022-01-22 14:15",
"2022-01-22 14:30",
"2022-01-22 14:45",
"2022-01-22 15:00",
"2022-01-22 15:15",
"2022-01-22 15:30",
"2022-01-22 15:45",
"2022-01-22 16:00",
"2022-01-22 16:15",
"2022-01-22 16:30",
"2022-01-22 16:45",
"2022-01-22 17:00",
"2022-01-22 17:15",
"2022-01-22 17:30",
"2022-01-22 17:45",
"2022-01-22 18:00",
"2022-01-22 18:15",
"2022-01-22 18:30",
"2022-01-22 18:45",
"2022-01-22 19:00",
"2022-01-22 19:15",
"2022-01-22 19:30",
"2022-01-22 19:45",
"2022-01-22 20:00",
"2022-01-22 20:15",
"2022-01-22 20:30",
"2022-01-22 20:45",
"2022-01-22 21:00",
"2022-01-22 21:15",
"2022-01-22 21:30",
"2022-01-22 21:45",
"2022-01-22 22:00",
"2022-01-22 22:15",
"2022-01-22 22:30",
"2022-01-22 22:45",
"2022-01-22 23:00",
"2022-01-22 23:15",
"2022-01-22 23:30",
"2022-01-22 23:45",
"2022-01-23 00:00",
"2022-01-23 00:15",
"2022-01-23 00:30",
"2022-01-23 00:45",
"2022-01-23 01:00",
"2022-01-23 01:15",
"2022-01-23 01:30",
"2022-01-23 01:45",
"2022-01-23 02:00",
"2022-01-23 02:15",
"2022-01-23 02:30",
"2022-01-23 02:45",
"2022-01-23 03:00",
"2022-01-23 03:15",
"2022-01-23 03:30",
"2022-01-23 03:45",
"2022-01-23 04:00",
"2022-01-23 04:15",
"2022-01-23 04:30",
"2022-01-23 04:45",
"2022-01-23 05:00",
"2022-01-23 05:15",
"2022-01-23 05:30",
"2022-01-23 05:45",
"2022-01-23 06:00",
"2022-01-23 06:15",
"2022-01-23 06:30",
"2022-01-23 06:45",
"2022-01-23 07:00",
"2022-01-23 07:15",
"2022-01-23 07:30",
"2022-01-23 07:45",
"2022-01-23 08:00",
"2022-01-23 08:15",
"2022-01-23 08:30",
"2022-01-23 08:45",
"2022-01-23 09:00",
"2022-01-23 09:15",
"2022-01-23 09:30",
"2022-01-23 09:45",
"2022-01-23 10:00",
"2022-01-23 10:15",
"2022-01-23 10:30",
"2022-01-23 10:45",
"2022-01-23 11:00",
"2022-01-23 11:15",
"2022-01-23 11:30",
"2022-01-23 11:45",
"2022-01-23 12:00",
"2022-01-23 12:15",
"2022-01-23 12:30",
"2022-01-23 12:45",
"2022-01-23 13:00",
"2022-01-23 13:15",
"2022-01-23 13:30",
"2022-01-23 13:45",
"2022-01-23 14:00",
"2022-01-23 14:15",
"2022-01-23 14:30",
"2022-01-23 14:45",
"2022-01-23 15:00",
"2022-01-23 15:15",
"2022-01-23 15:30",
"2022-01-23 15:45",
"2022-01-23 16:00",
"2022-01-23 16:15",
"2022-01-23 16:30",
"2022-01-23 16:45",
"2022-01-23 17:00",
"2022-01-23 17:15",
"2022-01-23 17:30",
"2022-01-23 17:45",
"2022-01-23 18:00",
"2022-01-23 18:15",
"2022-01-23 18:30",
"2022-01-23 18:45",
"2022-01-23 19:00",
"2022-01-23 19:15",
"2022-01-23 19:30",
"2022-01-23 19:45",
"2022-01-23 20:00",
"2022-01-23 20:15",
"2022-01-23 20:30",
"2022-01-23 20:45",
"2022-01-23 21:00",
"2022-01-23 21:15",
"2022-01-23 21:30",
"2022-01-23 21:45",
"2022-01-23 22:00",
"2022-01-23 22:15",
"2022-01-23 22:30",
"2022-01-23 22:45",
"2022-01-23 23:00",
"2022-01-23 23:15",
"2022-01-23 23:30",
"2022-01-23 23:45",
"2022-01-24 00:00",
"2022-01-24 00:15",
"2022-01-24 00:30",
"2022-01-24 00:45",
"2022-01-24 01:00",
"2022-01-24 01:15",
"2022-01-24 01:30",
"2022-01-24 01:45",
"2022-01-24 02:00",
"2022-01-24 02:15",
"2022-01-24 02:30",
"2022-01-24 02:45",
"2022-01-24 03:00",
"2022-01-24 03:15",
"2022-01-24 03:30",
"2022-01-24 03:45",
"2022-01-24 04:00",
"2022-01-24 04:15",
"2022-01-24 04:30",
"2022-01-24 04:45",
"2022-01-24 05:00",
"2022-01-24 05:15",
"2022-01-24 05:30",
"2022-01-24 05:45",
"2022-01-24 06:00",
"2022-01-24 06:15",
"2022-01-24 06:30",
"2022-01-24 06:45",
"2022-01-24 07:00",
"2022-01-24 07:15",
"2022-01-24 07:30",
"2022-01-24 07:45",
"2022-01-24 08:00",
"2022-01-24 08:15",
"2022-01-24 08:30",
"2022-01-24 08:45",
"2022-01-24 09:00",
"2022-01-24 09:15",
"2022-01-24 09:30",
"2022-01-24 09:45",
"2022-01-24 10:00",
"2022-01-24 10:15",
"2022-01-24 10:30",
"2022-01-24 10:45",
"2022-01-24 11:00",
"2022-01-24 11:15",
"2022-01-24 11:30",
"2022-01-24 11:45",
"2022-01-24 12:00",
"2022-01-24 12:15",
"2022-01-24 12:30",
"2022-01-24 12:45",
"2022-01-24 13:00",
"2022-01-24 13:15",
"2022-01-24 13:30",
"2022-01-24 13:45",
"2022-01-24 14:00",
"2022-01-24 14:15",
"2022-01-24 14:30",
"2022-01-24 14:45",
"2022-01-24 15:00",
"2022-01-24 15:15",
"2022-01-24 15:30",
"2022-01-24 15:45",
"2022-01-24 16:00"]

swd_data = [51468.5,
51316.4,
51110.9,
50884.7,
50741.8,
50643.5,
50697.2,
50717.1,
50646.2,
50642.8,
50694.3,
50720.1,
50950.3,
51076,
51334.7,
51477.5,
51626.4,
51754.9,
52077.1,
52470.5,
52620.2,
53004.2,
53570.4,
53998.8,
54343,
54787.4,
55565,
56032.6,
56524.6,
57006.9,
57499.8,
57943,
58249.9,
58286.4,
58283.1,
58058.2,
57643.2,
57251.9,
56695.6,
56169.6,
55545.1,
54843,
54321.8,
53692.5,
53115.3,
52457.4,
51942.5,
51389.6,
50709.1,
50000.9,
49382.4,
48695,
48094.9,
47402.4,
46753.2,
46223.8,
45755.6,
45240.5,
44782.7,
44333.2,
44014.7,
43784.7,
43458.2,
43438.9,
43383.7,
43308.2,
43265.5,
43371.4,
43515.5,
43783.7,
44127.8,
44659.5,
45160,
46075,
46981.1,
47618.2,
47981.4,
48430.7,
48457.4,
48595.7,
48570.3,
48740,
48762.3,
48770.1,
48786.6,
48908.6,
48714.4,
48573.5,
48408.1,
48378.5,
47960.1,
47869.6,
47601.2,
47363.2,
47114.3,
46741,
46469.9,
46359.5,
46135.4,
45979.3,
45794.8,
45611.8,
45467.4,
45373.9,
45285.3,
45194.8,
45214.2,
45126.1,
45120,
45021.5,
45191.6,
45208,
45239.2,
45174.8,
45297.5,
45336.9,
45566,
45746.9,
46071.8,
46191.6,
46354.2,
46520.7,
47012.1,
47282,
47632.6,
47858,
48296.9,
48451.2,
48727.8,
48951.7,
49171.2,
49141.2,
49004.1,
48820.6,
48670.6,
48217.7,
47857.4,
47377.9,
47112.9,
46481.5,
45971,
45384.6,
44688.3,
44219,
43810.4,
43460.6,
43033.7,
42586.7,
42317.4,
41989.6,
41606.5,
41221.2,
40862.8,
40498,
40215.2,
39982.9,
39757.2,
39645.1,
39632.9,
39374.6,
39433.2,
39558.7,
39553.2,
39795.7,
39935,
40007.2,
40422.1,
40647,
41646.5,
42404.4,
43176.5,
43615.3,
43964.5,
44081.2,
44139.7,
44116.6,
44129.4,
44015.9,
43853.1,
43690.5,
43471.6,
43192.6,
43268.6,
43251.2,
42760.8,
42227,
41687.7,
41303.6,
40792.7,
40358.7,
39793.8,
39475.2,
39163.6,
38777.3,
38542.3,
38354.1,
38163.2,
37881.7,
37836.2,
37752.3,
37659.8,
37653.4,
37623.6,
37615.6,
37680.3,
37654,
37836.7,
38033.5,
38256.9,
38277.3,
38678.5,
38921.8,
39295.2,
39610.4,
40323.9,
41057.7,
41666.5,
42309.5,
43579.2,
44530.3,
45284,
45812.2,
46578.4,
46902,
46775.7,
46599.9,
46828.4,
46828.3,
46739,
46718,
46753.6,
46927.4,
46845.5,
46820.7,
46928.3,
47061.1,
46937.5,
46893.2,
46975.7,
46915.7,
46754.7,
46580.7,
46560.7,
46430.7,
46288.3,
46095.2,
45997.2,
46005.4,
45806.1,
45710.8,
45548.4,
45480.1,
45311.8,
45113.4,
44878.8,
44848.2,
45007.8,
44963.8]

@app.route("/login", methods=["GET","POST"])
def login():
    if request.method == 'POST':
        user = request.form.get("username")
        pw = request.form.get("password")

        if user == "FH10" and pw == "demo":
            session['id'] = user
            return redirect(url_for("home"))
        else:
            return render_template('login.html', message="Invalid username or password")
    else:
        return render_template('login.html')

@app.route("/")
def home():
    
    # if request.method == 'POST':
    #     user = request.form.get("id")
    #     pw = request.form.get("pw")

    #     uid = int(verify(user, pw))

    #     if uid:
    #         #log_user_activity(uid, "/login", timestamp)
    #         session["user"] = uid
    #         get_camp(uid)
    #         return redirect(url_for("index"))

    #     data["invalid"] = True
    #     return render_template("login.html", data=data)
    
    # user_id = session.get("user", None)
    # if user_id:
    #     return redirect(url_for("index"))
    
    # return render_template("login.html", data=data)

    if session.get('id', None):
        return render_template('home.html')
    else:
        return render_template('login.html')

@app.route('/chart-system-wide-demand')
def swd():
    return render_template('swd.html', swd_data=swd_data, swd_labels=swd_labels)


@app.errorhandler(404)
def FUN_404(error):
    return render_template("404.html"), 404

if __name__ == '__main__':
    app.run(debug=True, host='localhost', port=5001)