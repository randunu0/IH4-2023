{% extends "template.html" %}
{% block page_title %} {{ page_content[0] }} {% endblock %}
{% block main_panel %}
{{ super() }}

<div class="content-wrapper">
    <div class="page-header">
      <h3 class="page-title"> {{ page_content[0] }} </h3>
    </div>
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">{{ page_content[0] }} in mW</h4>
            <canvas id="lineChart" style="height:250px"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">{{ page_content[0] }} Description</h4>
            <p>{{ page_content[1] }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
    
{% endblock %}

{% block js_scripts %}
<!-- Plugin js for this page -->
    <!-- <script src="assets/vendors/chart.js/Chart.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <!-- End plugin js for this page -->

    <!-- Custom js for this page -->
    <!-- <script src="assets/js/chart.js"></script> -->
    <script>
        $(function() {
  /* ChartJS
   * -------
   * Data and config for chartjs
   */
  'use strict';

  var swd_data = {{ chart_data }}
  
  var swd_labels = {{ chart_labels|safe }}

  var data = {
    labels: swd_labels,
    datasets: [{
      label: 'usage in MW',
      data: swd_data,
      backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(255, 206, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(153, 102, 255, 0.2)',
        'rgba(255, 159, 64, 0.2)'
      ],
      borderColor: [
        'rgba(255,99,132,1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(153, 102, 255, 1)',
        'rgba(255, 159, 64, 1)'
      ],
      borderWidth: 1,
      fill: false
    }]
  };


  var options = {
    scales: {
      yAxes: [{
        ticks: {
          beginAtZero: true
        },
        gridLines: {
          color: "rgba(204, 204, 204,0.1)"
        }
      }],
      xAxes: [{
        gridLines: {
          color: "rgba(204, 204, 204,0.1)"
        }
      }]
    },
    legend: {
      display: false
    },
    elements: {
      point: {
        radius: 0
      }
    }
  };

  if ($("#lineChart").length) {
    var lineChartCanvas = $("#lineChart").get(0).getContext("2d");
    var lineChart = new Chart(lineChartCanvas, {
      type: 'line',
      data: data,
      options: options
    });
  }


});
    </script>
    <!-- End custom js for this page -->

{% endblock %}
